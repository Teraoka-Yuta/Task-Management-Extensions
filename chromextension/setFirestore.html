<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>

  <body>

    <h1>FireStoreからデータを取り出す</h1>
    <p id="task1"></p>


    <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-storage.js"></script>

    <script>
       const firebaseConfig = {
        apiKey: "AIzaSyCR6Qww8456rfhLU-cOJEHpiPpj7u1gmFE",
        //authDomain: "task-management-extension.firebaseapp.com",
        projectId: "task-management-extension",
        storageBucket: "task-management-extension.appspot.com",
        messagingSenderId: "1054215485645",
        appId: "1:1054215485645:web:c9e622d7615154aea19184",
        measurementId: "G-4L91RB0YDD"
      };

      firebase.initializeApp(firebaseConfig);
    </script>

    <script>
        const data =[];
        let ri = ""
        let elem = document.getElementById("task1");
        const db = firebase.firestore();
        db.collection('task').get().then((snapshot)=>{
            snapshot.forEach(doc => {
                console.log(doc.data())
                elem.innerHTML = doc.data();
                data.push(doc.data())
                ri = data[0]["name"] +"  "+ data[0]["deadline"] +"  "+ data[0]["level"]
                elem.innerHTML = ri;
            });
        })
    </script>
  </body>
</html>